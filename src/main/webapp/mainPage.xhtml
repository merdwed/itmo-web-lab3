<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" 
        xmlns:f="http://xmlns.jcp.org/jsf/core"
        xmlns:h="http://xmlns.jcp.org/jsf/html"
        xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
        xmlns:p="http://primefaces.org/ui">
    <h:head>
        <title>lab3</title>
        <h:outputStylesheet library="css" name="table.css"/>
        <h:outputStylesheet library="css" name="style.css"/>
    </h:head>
    <h:body>
        #{coordBean.check()}
        #{tableBean.addCoord(coordBean.coord.x,coordBean.coord.y,coordBean.coord.r,coordBean.coord.s )}
            <h:form id="coord-form" onsubmit="return formcheck();">  
                <h:outputLabel for="paramR">Параметр R:</h:outputLabel>
                <h:selectOneRadio id = "paramR" value = "#{coordBean.coord.r}" onchange="checkRandDraw();">
                    <f:selectItem itemValue = "1" itemLabel = "1" /> 
                    <f:selectItem itemValue = "2" itemLabel = "2" />
                    <f:selectItem itemValue = "3" itemLabel = "3" />
                    <f:selectItem itemValue = "4" itemLabel = "4" />
                    <f:selectItem itemValue = "5" itemLabel = "5" />
                </h:selectOneRadio> 
                    
            <h:outputLabel for="coordX">Координата X:</h:outputLabel>
            <h:inputText class="number" name="coordX" id="coordX" placeholder=" от -5 до 5" value="#{coordBean.coord.x}" onchange="checkXandDraw();">

            </h:inputText>
            <br/>  
            <h:outputLabel for="coordY">Координата Y:</h:outputLabel>
            <h:inputText class="number" name="coordY" id="coordY" placeholder=" от -3 до 5" value="#{coordBean.coord.y}" onchange="checkYandDraw();">

            </h:inputText>
            <br/>  
            
                
        <h:commandButton id="submit-button" value="Submit" action="mainPage.xhtml">
        </h:commandButton> 
        </h:form>
        <p color="#f00" id="wrong-input-message" hidden="true">Вы ввели данные некорректно</p>
        <center>
        
            <div>
                <canvas id="canvas" width="400" height="400"></canvas>
            </div>
      
        </center>
        <h:dataTable value = "#{tableBean.coords}" var = "coord"
            styleClass = "coordTable"
            headerClass = "coordTableHeader"
            rowClasses = "coordTableOddRow,coordTableEvenRow">
   
            <h:column>    				
            <f:facet name = "header">X coord</f:facet>    				
            #{coord.x}
            </h:column>
   
            <h:column>
            <f:facet name = "header">Y coord</f:facet>
            #{coord.y}
            </h:column>
   
            <h:column>
            <f:facet name = "header">R parameter</f:facet>
            #{coord.r}
            </h:column>
   
            <h:column>
            <f:facet name = "header">Message</f:facet>
            #{coord.s}
            </h:column>
        </h:dataTable>
        <h:outputScript library="js" name="canvas.js" />
        <h:outputScript library="js" name="check.js" />
        
    </h:body>
</html>